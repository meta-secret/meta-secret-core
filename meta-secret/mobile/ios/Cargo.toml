[package]
name = "mobile-ios"
version = "0.1.0"
edition = "2024"

[lib]
name = "mobile"
crate-type = ["lib", "cdylib", "staticlib"]

[features]
default = []
mobile_only = []

[dependencies]
meta-secret-core = { path = "../../core", features = ["mobile"] }
meta-secret-wasm = { path = "../../wasm", features = ["mobile"] }
anyhow.workspace = true
tracing.workspace = true
tokio = { version = "1.44.1", features = ["rt", "sync", "time"] }
sqlx = { version = "0.8.6", features = ["runtime-tokio-native-tls", "sqlite", "macros", "json"], default-features = false }
serde_json = "1.0.140"
async-trait = "0.1.88"
once_cell = "1.21.1"

[dev-dependencies]
tokio = { version = "1.44.1", features = ["full"] }

# Явно указываем, что мы хотим cdylib для Android
[target.'cfg(target_os = "android")'.lib]
crate-type = ["cdylib"]
